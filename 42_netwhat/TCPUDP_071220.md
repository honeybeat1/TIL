## what is the diff btw public and private IPs?

IP의 주소는 유한한데 (40억개), 어떻게 모든 기기가 인터넷에 연결될 수 있는 걸까?

![](https://media.vlpt.us/post-images/noyo0123/dbb449f0-f35b-11e9-b6f8-339c87aa4e05/image.png)

- ISP -Supplied Router/Modem : SK 브로드밴드
- Your Wireless Router 인터넷 공유기 : IPTIME
- 공유기와 이 공유기에 연결되어 있는 모든 컴퓨터는 하나의 네트워크에 속하게 된다.
- 그 네트워크 (LAN)에 연결되어 있는 모든 장치들은 **사설 IP(Private IP)** 를 할당 받게 되고, 각 장치 사이의 통신은 사설 IP를 통해서 이뤄지게 된다. (NAT 1)
- 이 공유기가 인터넷에 연결되어 있는 경우 (NAT 2) 
공유기는 인터넷으로부터 할당 받은 **공인 IP(Public IP)** 를 이용하여 인터넷과 통신한다.

#### 따라서 공인 IP는..

- 전세계에서 유일한 주소이며, IP 주소가 충돌하면 인터넷을 사용할 수 없다.
- 반면 사설 IP는 공유기가 새로 발급 해준 IP 주소를 쓰는 것.
- 그러므로 인터넷이 알 수 있는 것은 공인 IP를 할당받은 기기까지의 경로 뿐이며, 사설 IP의 존재는 알지 못한다.
- 사설 IP를 할당 받은 컴퓨터가 인터넷과 통신하기 위해선 공인 IP를 이용해야 하는데,
    - 이 과정은 해당 컴퓨터가 사설 IP로 인터넷에 패킷을 보내면 **공유기가 해당 패킷에 적혀 있는 사설 IP를 공인 IP로 바꿔주면서 알아서 처리**
    - 인터넷에서 오는 패킷의 목적지도 해당하는 사설 IP 주소로 알아서 변경한 후 전달
